import{_,e as c,m as l,r as f,o as a,c as r,a as t,j as k,w as y,h as d,t as o,F as m,i as u}from"./index-ANY8q_oR.js";import{p}from"./postsStore-tqUPhTx3.js";import{a as P,u as v}from"./userLikesStore-Tm_8vUvv.js";import{u as h}from"./userUsersStore-MkuM-EOx.js";import{f as x}from"./formatCreatedAt-CTMo6T3e.js";import{t as w}from"./timestampToDate-lwWXufjj.js";import"./swalToasts-1UPgoiJ2.js";const L={async created(){await this.getPost(this.$route.params.id),await this.getProfile()},computed:{...c(p,["targetPost"]),...c(h,["profile"])},methods:{...l(p,["getPost"]),...l(h,["getProfile"]),...l(P,["handleLikePost","isLiked"]),...l(v,["deleteComment"]),closeLikedPost(){this.$router.push({name:"liked-posts"})},formatCreatedAt:x,timestampToDate:w}},C={key:0,class:"row gy-4"},A={class:"col-12"},j={class:"bg-white rounded border border-2 border-black p-6",style:{"border-bottom":"4px solid black !important"}},S={class:"d-flex justify-content-between mb-4"},$={class:"rounded-circle overflow-hidden",style:{width:"45px",height:"45px"}},B=["src","alt"],D={class:"d-flex flex-column justify-content-between text-start"},T={class:"noto-sans-tc text-primary fw-bold"},F={class:"baloo-da-2 text-gray"},N=t("i",{class:"bi bi-x-circle-fill"},null,-1),R=[N],U={class:"noto-sans-tc mb-4"},V=["src","alt"],E={class:"d-flex gap-2 mb-5"},q={class:"d-flex align-items-center mb-5"},z={key:0,class:"d-flex align-items-center gap-2"},G=t("div",{class:"rounded-circle overflow-hidden bg-primary position-relative",style:{width:"24px",height:"24px"}},[t("i",{class:"bi bi-hand-thumbs-up-fill text-white position-absolute top-50 start-50 translate-middle"})],-1),H={class:"noto-sans-tc"},I={class:"row px-4 gy-4"},J={class:"d-flex align-items-center gap-2 mb-1"},K={class:"rounded-circle overflow-hidden",style:{width:"40px",height:"40px"}},M=["src","alt"],O={class:"d-flex flex-column justify-content-between text-start"},Q={class:"noto-sans-tc text-primary fw-bold"},W={class:"baloo-da-2 text-gray"};function X(e,n,Y,Z,tt,i){const g=f("RouterLink");return e.targetPost.id?(a(),r("div",C,[t("div",A,[t("div",j,[t("div",S,[e.targetPost.user._id?(a(),k(g,{key:0,to:{name:"user",params:{id:e.targetPost.user._id}},class:"d-flex gap-2 text-black text-decoration-none"},{default:y(()=>[t("div",$,[t("img",{src:e.targetPost.user.photo,alt:`user-photo-${e.targetPost.user.name}`,class:"object-fit-cover img-fluid",style:{height:"45px"}},null,8,B)]),t("div",D,[t("span",T,o(e.targetPost.user.name),1),t("small",F,o(i.formatCreatedAt(e.targetPost.createdAt).formattedDateAndTime),1)])]),_:1},8,["to"])):d("",!0),t("button",{onClick:n[0]||(n[0]=(...s)=>i.closeLikedPost&&i.closeLikedPost(...s)),type:"button",class:"btn p-0 mb-auto"},R)]),t("p",U,o(e.targetPost.content),1),t("img",{src:e.targetPost.image,alt:`photo-${e.targetPost.image}`,class:"object-fit-cover img-fluid rounded border border-2 border-black mb-2"},null,8,V),t("div",E,[(a(!0),r(m,null,u(e.targetPost.tags,(s,b)=>(a(),r("span",{key:b,class:"badge rounded-pill bg-secondary text-black noto-sans-tc border border-2 border-black"},o(s),1))),128))]),t("div",q,[e.targetPost.likes?(a(),r("div",z,[G,t("small",H,o(e.targetPost.likes[0].user.name)+" 和其他 "+o(e.targetPost.likes.length-1)+"人按讚",1)])):d("",!0)]),t("div",I,[(a(!0),r(m,null,u(e.targetPost.comments,s=>(a(),r("div",{key:s._id,class:"col-12 rounded p-4",style:{"background-color":"rgb(239 236 231 / 50%)"}},[t("div",J,[t("div",K,[t("img",{src:s.user.photo,alt:`user-photo-${s.user.name}`,class:"object-fit-cover img-fluid",style:{height:"40px"}},null,8,M)]),t("div",O,[t("span",Q,o(s.user.name),1),t("small",W,o(i.formatCreatedAt(s.createdAt).formattedDateAndTime),1)])])]))),128))])])])])):d("",!0)}const dt=_(L,[["render",X]]);export{dt as default};
