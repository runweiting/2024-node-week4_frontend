import{l as c,p,q as r}from"./index-oNhqvqyD.js";import{e as n}from"./swalToasts-kg3gisn3.js";var f={VITE_APP_URL:"https://two024-node-week4.onrender.com",BASE_URL:"/2024-node-week4_frontend/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const i=c.useLoading({}),{VITE_LOCALHOST:l}=f,m=p("postsStore",{state:()=>({postsList:[],targetPost:{}}),actions:{async getPosts(s=null,o=null){const a=i.show();let t=`${l}/posts`;s!==null&&(t+=`?timeSort=${s}`,o&&(t+=`&q=${o}`));try{const e=await r.get(t),{data:d}=e.data;this.postsList=d}catch(e){n(e.response.data.message)}finally{a.hide()}},async getPost(s){const o=i.show(),a=`${l}/posts/${s}`;try{const t=await r.get(a),{data:e}=t.data;this.targetPost=e}catch(t){n(t.response.data.message)}finally{o.hide()}}},getters:{getAllPosts:s=>s.postsList}});export{m as p};
