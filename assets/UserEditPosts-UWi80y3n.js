import{_ as f,e as v,m as c,r as d,o,c as r,b as i,a as t,F as n,j as g,t as l,k as w,h as y}from"./index-bcdFYepX.js";import{p as m}from"./postsStore-8Tj1SKtF.js";import{U as k}from"./UserNavbar-9-w9848t.js";import{U as x}from"./UserDashboard-IZ6tlXLr.js";import{f as P}from"./formatCreatedAt-CTMo6T3e.js";import{t as U}from"./timestampToDate-lwWXufjj.js";import{u as C}from"./userPostsStore-idcvK_C5.js";import{e as D}from"./swalToasts-ADG9kAt2.js";import"./userUsersStore-L3Nhu7mu.js";import"./user_default-gs4whxCm.js";const I={components:{UserNavbar:k,UserDashboard:x},data(){return{targetUserId:"",currentPostId:""}},created(){this.targetUserId=this.$route.params.userId},async mounted(){await this.getUserPosts(this.targetUserId)},computed:{...v(m,["userPosts"])},methods:{...c(m,["getUserPosts"]),...c(C,["deletePost"]),handleEditPost(s){this.currentPostId=s,this.$router.push({name:"edit-post",params:{postId:s}})},handleDeletePost(s){this.deletePost(s).then(()=>{this.getUserPosts(this.targetUserId)}).catch(()=>{D("貼文刪除失敗")})},formatCreatedAt:P,timestampToDate:U}},N={class:"container py-12"},A={class:"row"},V={class:"col-8"},$=t("div",{class:"row"},[t("div",{class:"col shadow-new-post"},[t("div",{class:"rounded-0 bg-white border border-2 border-black azeret-mono fs-5 fw-bold py-5 mb-6 w-100 text-center"}," 編輯貼文 ")])],-1),B={key:0,class:"row gy-4"},E=t("div",{class:"col-12"},[t("div",{class:"bg-white rounded border border-2 border-black p-4 text-center",style:{"border-bottom":"4px solid black !important"}},[t("p",{class:"text-gray mb-0"},"目前尚無按讚貼文，新增一則貼文吧！")])],-1),S=[E],j={key:1,class:"row gy-3"},T={class:"d-flex gap-2 bg-white rounded border border-2 border-black p-4 mb-2",style:{"border-bottom":"4px solid black !important"}},F={class:"rounded-circle overflow-hidden",style:{width:"45px",height:"45px"}},R=["src","alt"],z={class:"d-flex flex-column justify-content-between text-start"},L={class:"noto-sans-tc text-primary fw-bold"},q={class:"baloo-da-2 text-gray"},G={class:"mt-auto ms-auto"},H=["onClick"],J=t("i",{class:"bi bi-pencil-fill me-2"},null,-1),K=t("small",null,"編輯貼文",-1),M=[J,K],O=["onClick"],Q=t("i",{class:"bi bi-trash3 me-2"},null,-1),W=t("small",null,"刪除貼文",-1),X=[Q,W],Y={class:"col-4"};function Z(s,tt,et,st,h,a){const _=d("UserNavbar"),b=d("RouterView"),p=d("UserDashboard");return o(),r(n,null,[i(_),t("div",N,[t("div",A,[t("div",V,[$,s.userPosts.posts?(o(),r("div",j,[(o(!0),r(n,null,g(s.userPosts.posts,e=>(o(),r("div",{key:e.id,class:"col-12"},[t("div",T,[t("div",F,[t("img",{src:e.user.photo,alt:`user-photo-${e.user.name}`,class:"object-fit-cover img-fluid",style:{height:"45px"}},null,8,R)]),t("div",z,[t("span",L,l(e.user.name),1),t("small",q,"發文時間："+l(a.formatCreatedAt(e.createdAt).formattedDateAndTime),1)]),t("div",G,[t("button",{onClick:u=>a.handleEditPost(e.id),type:"button",class:"btn btn-sm border border-2 border-black bg-white me-2"},M,8,H),t("button",{onClick:u=>a.handleDeletePost(e.id),type:"button",class:"btn btn-sm border border-2 border-black text-decoration-none bg-white"},X,8,O)])]),h.currentPostId===e.id?(o(),w(b,{key:0})):y("",!0)]))),128))])):(o(),r("div",B,S))]),t("div",Y,[i(p)])])])],64)}const _t=f(I,[["render",Z]]);export{_t as default};
