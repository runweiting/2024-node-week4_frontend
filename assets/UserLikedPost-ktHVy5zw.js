import{_,e as n,m as d,o as a,c as r,a as t,t as o,F as c,i as m,h}from"./index-Do_aAaLG.js";import{p}from"./postsStore-AFCOf5SF.js";import{a as b,u as f}from"./userLikesStore-HyzYBzM8.js";import{u}from"./userUsersStore-64V5Wi2f.js";import{f as k}from"./formatCreatedAt-CTMo6T3e.js";import{t as y}from"./timestampToDate-lwWXufjj.js";import"./swalToasts-1gCIqy4y.js";const v={async created(){await this.getPost(this.$route.params.id),await this.getProfile()},computed:{...n(p,["targetPost"]),...n(u,["profile"])},methods:{...d(p,["getPost"]),...d(u,["getProfile"]),...d(b,["handleLikePost","isLiked"]),...d(f,["deleteComment"]),closeLikedPost(){this.$router.push({name:"liked-posts"})},formatCreatedAt:k,timestampToDate:y}},P={key:0,class:"row gy-4"},x={class:"col-12"},w={class:"bg-white rounded border border-2 border-black p-6",style:{"border-bottom":"4px solid black !important"}},A={class:"d-flex gap-2 mb-4"},L={class:"rounded-circle overflow-hidden",style:{width:"45px",height:"45px"}},C=["src","alt"],S={class:"d-flex flex-column justify-content-between text-start"},j={class:"noto-sans-tc text-primary fw-bold"},$={class:"baloo-da-2 text-gray"},D={class:"ms-auto"},B=t("i",{class:"bi bi-x-circle-fill"},null,-1),T=[B],F={class:"noto-sans-tc mb-4"},N=["src","alt"],U={class:"d-flex gap-2 mb-5"},V={class:"d-flex align-items-center mb-5"},E={key:0,class:"d-flex align-items-center gap-2"},q=t("div",{class:"rounded-circle overflow-hidden bg-primary position-relative",style:{width:"24px",height:"24px"}},[t("i",{class:"bi bi-hand-thumbs-up-fill text-white position-absolute top-50 start-50 translate-middle"})],-1),z={class:"noto-sans-tc"},G={class:"row px-4 gy-4"},H={class:"d-flex align-items-center gap-2 mb-1"},I={class:"rounded-circle overflow-hidden",style:{width:"40px",height:"40px"}},J=["src","alt"],K={class:"d-flex flex-column justify-content-between text-start"},M={class:"noto-sans-tc text-primary fw-bold"},O={class:"baloo-da-2 text-gray"};function Q(e,l,R,W,X,i){return e.targetPost._id?(a(),r("div",P,[t("div",x,[t("div",w,[t("div",A,[t("div",L,[t("img",{src:e.targetPost.user.photo,alt:`user-photo-${e.targetPost.user.name}`,class:"object-fit-cover img-fluid",style:{height:"45px"}},null,8,C)]),t("div",S,[t("span",j,o(e.targetPost.user.name),1),t("small",$,o(i.formatCreatedAt(e.targetPost.createdAt).formattedDateAndTime),1)]),t("div",D,[t("button",{onClick:l[0]||(l[0]=(...s)=>i.closeLikedPost&&i.closeLikedPost(...s)),type:"button",class:"btn p-0"},T)])]),t("p",F,o(e.targetPost.content),1),t("img",{src:e.targetPost.image,alt:`photo-${e.targetPost.image}`,class:"object-fit-cover img-fluid rounded border border-2 border-black mb-2"},null,8,N),t("div",U,[(a(!0),r(c,null,m(e.targetPost.tags,(s,g)=>(a(),r("span",{key:g,class:"badge rounded-pill bg-secondary text-black noto-sans-tc border border-2 border-black"},o(s),1))),128))]),t("div",V,[e.targetPost.likes?(a(),r("div",E,[q,t("small",z,o(e.targetPost.likes[0].user.name)+" 和其他 "+o(e.targetPost.likes.length-1)+"人按讚",1)])):h("",!0)]),t("div",G,[(a(!0),r(c,null,m(e.targetPost.comments,s=>(a(),r("div",{key:s._id,class:"col-12 rounded p-4",style:{"background-color":"rgb(239 236 231 / 50%)"}},[t("div",H,[t("div",I,[t("img",{src:s.user.photo,alt:`user-photo-${s.user.name}`,class:"object-fit-cover img-fluid",style:{height:"40px"}},null,8,J)]),t("div",K,[t("span",M,o(s.user.name),1),t("small",O,o(i.formatCreatedAt(s.createdAt).formattedDateAndTime),1)])])]))),128))])])])])):h("",!0)}const rt=_(v,[["render",Q]]);export{rt as default};
