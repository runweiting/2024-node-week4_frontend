import{q as p,s as u,u as n}from"./index-ANY8q_oR.js";import{e as l}from"./swalToasts-1UPgoiJ2.js";var f={VITE_APP_URL:"https://two024-node-week4.onrender.com",BASE_URL:"/2024-node-week4_frontend/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const i=p.useLoading({}),{VITE_APP_URL:c}=f,P=u("postsStore",{state:()=>({postsList:[],targetPost:{},userPosts:[]}),actions:{async getPosts(e=null,o=null){const a=i.show();let s=`${c}/posts`;e!==null&&(s+=`?timeSort=${e}`,o&&(s+=`&q=${o}`));try{const t=await n.get(s),{data:r}=t.data;this.postsList=r}catch(t){l(t.response.data.message)}finally{a.hide()}},async getPost(e){const o=i.show(),a=`${c}/posts/${e}`;try{const s=await n.get(a),{data:t}=s.data;this.targetPost=t}catch(s){l(s.response.data.message)}finally{o.hide()}},async getUserPosts(e,o=null,a=null){const s=i.show();let t=`${c}/posts/user/${e}`;o!==null&&(t+=`?timeSort=${o}`,a&&(t+=`&q=${a}`));try{const r=await n.get(t),{data:d}=r.data;this.userPosts=d}catch(r){l(r.response.data.message)}finally{s.hide()}}},getters:{getAllPosts:e=>e.postsList}});export{P as p};
