import{_ as v,e as k,m as w,r as d,o as a,c as n,b as m,a as e,f as c,g as p,F as b,j as x,q as U,t as y}from"./index-3T23bGIL.js";import{u as h}from"./userPostsStore-uQDDj10e.js";import{e as i}from"./swalToasts-R4IB3Xl2.js";import{U as P}from"./UserNavbar-57gNWupx.js";import{U as T}from"./UserDashboard-Ma8A_L_S.js";import"./postsStore-fXOc3VR0.js";import"./userUsersStore-Rk4b0SUd.js";import"./user_default-gs4whxCm.js";const C={components:{UserNavbar:P,UserDashboard:T},data(){return{content:"",image:"",tags:["音樂","運動","美食","旅遊","其他"],selectedTags:[]}},watch:{selectedTags(r){r.length>3&&this.selectedTags.pop()}},computed:{...k(h,["newPost"])},methods:{...w(h,["createPost","getPosts"]),handleCreatePost(r,s,l){return r?s.startsWith("http")?l.length===0?i("貼文標籤為必填"):(this.createPost(r,s,l),this.tempContent="",this.tempImage="",this.tags.length=0,this.$router.push({name:"all"}),null):i("圖片網址錯誤"):i("貼文內容為必填")}}},N={class:"container py-12",style:{height:"100dvh"}},D={class:"row"},V={class:"col-8"},B=e("div",{class:"row"},[e("div",{class:"col shadow-new-post"},[e("div",{class:"rounded-0 bg-white border border-2 border-black azeret-mono fs-5 fw-bold py-5 mb-6 w-100 text-center"}," 張貼動態 ")])],-1),S={class:"row"},j={class:"col"},F={class:"bg-white rounded border border-2 border-black p-8",style:{"border-bottom":"4px solid black !important"}},I={class:"d-flex flex-column gap-1 mb-4"},M=e("span",null,"貼文內容",-1),q={class:"d-flex flex-column gap-1 mb-4"},z=e("span",null,"圖片網址",-1),A={class:"mb-4"},E=["src"],L={class:"mb-4"},W=e("span",{class:"d-block"},"貼文標籤",-1),G=["id","value"],H=["for"],J={class:"col-4"};function K(r,s,l,O,o,u){const _=d("UserNavbar"),f=d("UserDashboard");return a(),n(b,null,[m(_),e("div",N,[e("div",D,[e("div",V,[B,e("div",S,[e("div",j,[e("div",F,[e("div",I,[M,c(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.content=t),class:"form-control rounded-0 border border-black border-2",placeholder:"請輸入內容","aria-label":"post-content"},null,512),[[p,o.content]])]),e("div",q,[z,c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.image=t),type:"text",class:"form-control rounded-0 border border-black border-2",placeholder:"請輸入網址","aria-label":"imageUrl","aria-describedby":"imageUrl"},null,512),[[p,o.image]])]),e("div",A,[e("img",{src:o.image,alt:"tempImage",class:"object-fit-cover img-fluid"},null,8,E)]),e("div",L,[W,(a(!0),n(b,null,x(o.tags,t=>(a(),n("div",{key:t,class:"form-check form-check-inline"},[c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=g=>o.selectedTags=g),class:"form-check-input",type:"checkbox",id:t,value:t},null,8,G),[[U,o.selectedTags]]),e("label",{class:"form-check-label",for:t},y(t),9,H)]))),128))]),e("button",{onClick:s[3]||(s[3]=t=>u.handleCreatePost(this.content,this.image,this.selectedTags)),type:"button",class:"btn btn-light-gray py-4 border border-2 border-black w-50"},"送出貼文")])])])]),e("div",J,[m(f)])])])],64)}const te=v(C,[["render",K]]);export{te as default};
